name: Run Script on Hostinger  

on:
  push:
    branches:
      - main  # Runs on every push/commit to main

jobs:
  run_script:
    runs-on: ubuntu-latest

    steps:
    - name: Run Script on Hostinger Server
      uses: appleboy/ssh-action@v0.1.6
      with:
        host: ${{ secrets.HOSTINGER_IP }}
        username: ${{ secrets.HOSTINGER_SSH_USER }}
        password: ${{ secrets.HOSTINGER_SSH_PASS }}
        port: ${{ secrets.HOSTINGER_PORT }}
        script: |
          echo "‚úÖ Connected to Hostinger Server"
          cd /home/${{ secrets.HOSTINGER_USERNAME }}/public_html/fleet  # Change to your Laravel root folder
          
          echo "üìÇ Listing files in fleet directory:"
          ls -lah  # List all files and folders with details

          echo "üîç Checking if artisan exists:"
          if [ -f "artisan" ]; then
            echo "‚úÖ Artisan file found!"
          else
            echo "‚ùå Artisan file missing!"
          fi
